!function(I){window.JSMaps=window.JSMaps||{maps:{}},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),e=o.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],a=0;a<e;){var s=o[a];if(t.call(i,s,a,o))return s;a++}}}),window.mobileAndTabletcheck=function(){var t,o=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(o=!0),o};var X=window.mobileAndTabletcheck(),Y="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints;Raphael.el.trigger=function(t){for(var o=0,e=this.events.length;o<e;o++)this.events[o].name==t&&this.events[o].f.call(this)},I.fn.JSMaps=function(t){var f=I.extend({responsive:!0,offColor:"#ccc",strokeColor:"#24221f",offStrokeColor:"#444",strokeWidth:1,abbreviationColor:"#f2f2f2",abbreviationFontSize:12,displayAbbreviations:!0,displayAbbreviationOnDisabledStates:!1,autoPositionAbbreviations:!1,stateClickAction:"text",textPosition:"right",hrefTarget:"_blank",textAreaWidth:300,textAreaHeight:300,pinSize:10,displayMousePosition:!1,displayViewBox:!1,enablePanZoom:!1,mapFolder:"maps/",initialZoom:0,initialMapX:0,initialMapY:0,retainPanZoomOnRedraw:!1,displayPreloader:!0,preloaderText:"Loading map...",disableTooltip:!1,selectElement:!0,selectElementDevices:["mobile"],selectElementDefaultText:"Please select",onReady:function(){},onStateClick:function(){},onStateOver:function(){},onStateOut:function(){}},t);if(!f.map)throw new Error("JSMaps plugin was called without a map property");if(!window.JSMaps.maps[f.map])throw new Error("The data for "+f.map+" is missing");var g,l=I(this);if(f.displayPreloader)var a=I('<div class="jsmaps-preloader">'+f.preloaderText+"</div>").appendTo(l);var e,b,p=0,c=0,x=null,w=!1,d=I(window),s=d.width(),n=0,m=!1,j=[],k=[],y=l.parent().width(),C=I('<div class="jsmaps"></div>').appendTo(l),P="jsmaps-"+(e=(new Date).getTime(),"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?o:3&o|8).toString(16)}));C.attr("id",P);var T,z=[],M=[],S=null,o=window.JSMaps.maps[f.map],A=I.extend(f,o.config),W=o.paths,E=o.pins;function O(e,t,i){I.each(t,function(t,o){e[o].animate({fill:i},500)})}function D(){if("text"===A.stateClickAction){var t=b[0];t.scrollLeft=0,t.scrollTop=0}}function i(){var t=A.mapWidth,o=A.mapHeight,e=t/o;if(A.enablePanZoom)var i=I('<div class=jsmaps-console><ul><li class=jsmaps-zoom-in><button type=button><div class="jsmaps-icon jsmaps-icon-plus"></div></button><li class=jsmaps-zoom-out><button type=button><div class="jsmaps-icon jsmaps-icon-minus"></div></button><li class=jsmaps-move-up><button type=button><div class="jsmaps-icon jsmaps-icon-chevron jsmaps-icon-chevron-up"></div></button><li class=jsmaps-move-down><button type=button><div class="jsmaps-icon jsmaps-icon-chevron jsmaps-icon-chevron-down"></div></button><li class=jsmaps-move-left><button type=button><div class="jsmaps-icon jsmaps-icon-chevron jsmaps-icon-chevron-left"></div></button><li class=jsmaps-move-right><button type=button><div class="jsmaps-icon jsmaps-icon-chevron jsmaps-icon-chevron-right"></div></button><li class=jsmaps-zoom-reset><button type=button><div class="jsmaps-icon jsmaps-icon-reset"></div></button></ul></div>').appendTo(l);function u(){y=l.parent().width(),s=d.width(),"text"===A.stateClickAction?"bottom"===(767<=s?A.textPosition:"bottom")?(o=(t=y)/e,l.css({width:t+"px",height:o+b.height()+"px"}),b.css({width:t+"px",marginTop:o+"px",height:"auto"})):(t=y-A.textAreaWidth,o=t/e,l.css({width:767<=s?t+A.textAreaWidth+"px":t+"px",height:o+"px"}),b.css({width:767<=s?A.textAreaWidth+"px":t+"px",height:767<=s?o+"px":A.textAreaHeight,display:"inline",float:767<=s?A.textPosition:"none",marginTop:767<=s?0:o+"px"})):(o=(t=y)/e,l.css({width:t+"px",height:o+"px"})),g.setSize(t,o)}function h(t){Y&&X||A.disableTooltip||(v(),C.after(I("<div />").addClass("jsmaps-tooltip")),I(".jsmaps-tooltip").html(t),r(),I(".jsmaps-tooltip").fadeIn())}function r(){n=-40,m=c-I(".jsmaps-tooltip").height()+n<0,n=m?40:n-I(".jsmaps-tooltip").height(),I(".jsmaps-tooltip").css({left:p-I(".jsmaps-tooltip").width()/2,top:c+n})}function v(){C.next(".jsmaps-tooltip").remove()}A.displayMousePosition&&(I('<div class="jsmaps-mouse-position"><div class="xPos">X: 0</div><div class="yPos">Y: 0</div></div>').appendTo(l),I("body").css("cursor","crosshair")),A.displayViewBox&&I('<div class="jsmaps-viewbox-data"><div class="xPos">X: {0}</div><div class="yPos">Y: {0}</div><div class="zoom">Zoom: {0}</div></div>').appendTo(l),"text"===A.stateClickAction&&((b=I('<div class="jsmaps-text"></div>')).html(A.defaultText),"left"===A.textPosition&&(C.css({left:"auto",right:"0"}),i&&i.css({left:"auto",right:"10px"}))),l.mousemove(function(t){!function(t){var o=I(window).scrollTop();if(t&&t.pageX?(p=t.pageX,c=t.pageY-o):(p=event.clientX+document.body.scrollLeft,c=event.clientY+document.body.scrollTop),p<0&&(p=0),c<0&&(c=0),r(),A.displayMousePosition){o=d.scrollTop();var e=l.offset(),i=Math.round(p-e.left),a=Math.round(c-e.top+o),s=Math.round(i-A.mapWidth/2),n=Math.round(a-A.mapHeight/2);I(".jsmaps-mouse-position .xPos").text("X: "+i),I(".jsmaps-mouse-position .yPos").text("Y: "+a),I(".jsmaps-mouse-position .mapXPos").text("Map X: "+s),I(".jsmaps-mouse-position .mapYPos").text("Map Y: "+n)}}(t)}),function(){var t,o,e,i;g=Raphael(P,A.mapWidth,A.mapHeight);var a={"stroke-width":A.strokeWidth||1},s={"font-family":"Arial, sans-serif","font-weight":"bold","font-size":A.abbreviationFontSize,fill:A.abbreviationColor,"z-index":1e3},n={fill:"#f00","stroke-width":0,opacity:0};A.groups&&A.groups.length&&(I.each(A.groups,function(t,o){o.set=g.set(),o.groupIds=[]}),W=function(t){for(var i,o=0,e=t.length;o<e;o++)i=t[o],I.each(A.groups,function(t,e){I.each(e.members,function(t,o){i.name===o&&(i.group=e.name,i.color=e.color,i.hoverColor=e.hoverColor,i.selectedColor=e.selectedColor)})});return t}(W));for(var r=0,l=W.length;r<l;r++){var p,c,d;function m(t){var o=this.data("id"),e=!!this.data("group"),i=e?this.data("group"):W[o],a=i.enable,s="mouseover"===t.type,n=s?i.hoverColor:i.color,r=s?f.onStateOver:f.onStateOut;if(a){if(i!=x){var l=e?this.data("group").groupIds:[o];O(z,l,n)}s?h(i.name):v(),I.isFunction(r)&&r.call(this,i)}}W[r].id=r,a=W[r].enable?I.extend(a,{fill:W[r].color,stroke:A.strokeColor,id:r}):I.extend(a,{fill:A.offColor,stroke:A.offStrokeColor}),n=I.extend(n,{cursor:W[r].enable?A.displayMousePosition?"crosshair":"pointer":"default"}),t=g.path(W[r].path).attr(a),z.push(t),(W[r].enable&&A.displayAbbreviations||!W[r].enable&&A.displayAbbreviationOnDisabledStates)&&(A.autoPositionAbbreviations?(e=(o=t.getBBox()).x+o.width/2+W[r].textX,i=o.y+o.height/2+W[r].textY):(e=W[r].textX,i=W[r].textY),k.push(g.text(e,i,W[r].abbreviation).attr(s))),W[r].group?((c=(p=A.groups.find(function(t,o){if(W[r].group===t.name)return d=o,t.groupIds.push(r),t})).set.push(g.path(W[r].path)).attr(n)).data("group",p),c.data("id",d),c.name=p.name,c.enable=p.enable):((c=g.path(W[r].path).attr(n)).data("id",r),c.name=W[r].name,c.enable=W[r].enable),j.push(c),c.mouseover(m),c.mouseout(m),c.click(function(t){if(!T||!T.isDragging()){var o,e=this.data("id"),i=!!this.data("group"),a=i?this.data("group"):W[e];a.enable&&(D(),x&&x!=a&&(o=x.groupIds||[x.id],x.color,O(w?M:z,o,x.color)),w=!1,a!=x&&(o=i?this.data("group").groupIds:[e],O(z,o,a.selectedColor),S&&S.val(a.name)),x=a,"text"===A.stateClickAction?b.html(a.text):"url"===A.stateClickAction&&window.open(a.url,A.hrefTarget)),I.isFunction(f.onStateClick)&&f.onStateClick.call(this,a)}})}A.displayMousePosition||(u(),g.setViewBox(0,0,A.mapWidth,A.mapHeight),A.responsive&&I(window).on("resize",function(){u()}))}(),k.forEach(function(t){t.toFront()}),j.forEach(function(t){t.toFront()}),E&&E.length&&function(){for(var t=0;t<E.length;t++){E[t].id=t;var o,e={cursor:"pointer",fill:E[t].color,stroke:A.strokeColor,id:t};if(E[t].src&&""!==E[t].src){var i=E[t].pinWidth/E[t].srcWidth;o=g.image(E[t].src,0,0,E[t].srcWidth,E[t].srcHeight).attr(e);var a=-E[t].srcWidth/2+E[t].xPos,s=-E[t].srcHeight/2+E[t].yPos;o.animate({transform:"T"+a+","+s+" S"+i},0)}else o=g.circle(E[t].xPos,E[t].yPos,E[t].pinWidth||A.pinSize).attr(e);function n(t){var o=this.data("id"),e=E[o],i="mouseover"===t.type,a=i?e.hoverColor:e.color,s=i?f.onStateOver:f.onStateOut;e!=x&&O(M,[o],a),i?h(e.name):v(),I.isFunction(s)&&s.call(this,e)}o.data("id",t),o.name=E[t].name,o.enable=E[t].enable,M.push(o),j.push(o),o.mouseover(n),o.mouseout(n),o.click(function(t){if(!T||!T.isDragging()){var o=this.data("id"),e=E[o];D(),x&&(pathIds=x.groupIds||[x.id],O(w?M:z,pathIds,x.color)),w=!0,O(M,[o],e.selectedColor),x=e,"text"===A.stateClickAction?b.html(e.text):"url"===A.stateClickAction&&window.open(e.url,A.hrefTarget),I.isFunction(f.onStateClick)&&f.onStateClick.call(this,e)}})}}(),A.enablePanZoom&&!A.displayMousePosition&&(I("body").on("mousewheel DOMMouseScroll",function(t){I(t.target).parents(".jsmaps").length&&(t.preventDefault(),t.stopPropagation())}),(T=g.panzoom({displayViewBox:A.displayViewBox,initialZoom:A.initialZoom,initialPosition:{x:A.initialMapX,y:A.initialMapY},originSize:{width:A.mapWidth,height:A.mapHeight}})).enable(),i.on("click",function(t){switch(I(t.target).parents("li").prop("class")){case"jsmaps-zoom-in":T.zoomIn(1);break;case"jsmaps-zoom-out":T.zoomOut(1);break;case"jsmaps-zoom-reset":T.zoomReset();break;case"jsmaps-move-up":T.pan(0,20);break;case"jsmaps-move-down":T.pan(0,-20);break;case"jsmaps-move-left":T.pan(20,0);break;case"jsmaps-move-right":T.pan(-20,0)}}),i.fadeIn()),A.selectElement&&function(){var t=I('<div class="jsmaps-select"><select><option value="default"></option></select><div class="jsmaps-select-icon"><div class="jsmaps-icon jsmaps-icon-chevron jsmaps-icon-chevron-down jsmaps-theme-light"></div></div></div>').insertBefore(l);A.selectElementDevices&&A.selectElementDevices.length?t.addClass(A.selectElementDevices.join(" ")):t.addClass("all-devices"),(S=t.find("select")).find('option[value="default"]').text(A.selectElementDefaultText);var o=j.sort(function(t,o){return t.name<o.name?-1:t.name>o.name?1:0});(o=o.filter(function(t){return t.enable})).forEach(function(t){I("<option>").val(t.name).text(t.name).appendTo(S)}),S.on("change",function(){"default"!==this.value?l.trigger("stateClick",this.value):l.trigger("stateUnClick")})}(),a&&a.length&&a.fadeOut(),l.fadeIn()}function r(){g.remove(),l.find(".jsmaps-console").length&&l.find(".jsmaps-console").remove(),l.find(".jsmaps-mouse-position").length&&l.find(".jsmaps-mouse-position").remove(),l.find(".jsmaps-text").length&&l.find(".jsmaps-text").remove(),l.siblings(".jsmaps-select").length&&l.siblings(".jsmaps-select").remove(),T&&(T=null),z=[],j=[],k=[],i()}i(),l.on("stateClick",function(t,e){I.each(j,function(t,o){(pathName=o.name,e===pathName)&&("set"===j[t].type?j[t][0]:j[t]).trigger("click")})}),l.on("stateUnClick",function(){if(x){var t=x.groupIds||[x.id];O(w?M:z,t,x.color),"text"===A.stateClickAction&&b.html(A.defaultText),x=null}}),l.on("reDraw",function(t,o){o&&(o.config&&(A=I.extend(A,o.config)),T&&A.retainPanZoomOnRedraw&&(A.initialZoom=T.getCurrentZoom(),A.initialMapX=T.getCurrentPosition().x,A.initialMapY=T.getCurrentPosition().y),o.pins&&(E=o.pins),o.paths&&(W=o.paths),a&&a.length?a.fadeIn("fast",r):r())}),f.onReady.call(this)}}(jQuery);